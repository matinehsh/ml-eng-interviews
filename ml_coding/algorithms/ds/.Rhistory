getwd()
setwd("/Users/matinehshaker/Dropbox/interview-prep/fall2016/projects/")
data = read.csv("datasets/employee_retention_data.csv")
View(data)
str(data)
unique(data$dept)
type(unique(data$dept))
unique(data$dept)
typeof(data$dept)
length(data$dept)
length(unique(data$dept))
data$company_id
str(data)
data$company_id = as.factor(data$company_id)
str(data)
data$join_date = as.Date(data$join_date)
data$quit_date = as.Date(data$quit_date)
str(data)
summary(data)
data$salary == 408000
subset(data, salary>400000)
subset(data, salary>300000)
subset(data, salary>350000)
subset(data, salary<50000)
subset(data, salary<3000)
subset(data, salary<30000)
subset(data, 200000<salary<250000)
subset(data, 200000<salary and salary<250000)
subset(data, 350000<salary)
subset(data, 380000<salary)
subset(data, 370000<salary)
unique_dates = seq(as.Date("2011/01/24"), as.Date("2015/12/13"), by="day")
unique_companies = unique(data$company_id)
unique_companies
length(unique_companies)
data_headcount = merge(unique_dates, unique_companies, by=Null)
data_headcount = merge(unique_dates, unique_companies, by=NULL)
View(data_headcount)
365*5-40
(365*5-40)*12
str(data_headcount)
columns(data_headcount) = c("date", "company_id")
colnames(data_headcount) = c("date", "company_id")
typeof(data)
typeof(data_headcount)
library('dplyr')
a1 = group_by(data, dept)
View(a1)
a1 = group_by(data, join_date, employee_id)
View(a1)
a1 <- group_by(data, join_date, employee_id)
a2 <- summarise(a1, quit_count=length(quit_date))
View(a1)
View(a1)
View(a2)
View(a1)
View(a2)
data_join = data %>%
group_by(join_date, company_id) %>%
summarise(join_count = length(join_date))
View(data_join)
data_quit = data %>%
group_by(quit_date, company_id) %>%
summarise(quit_count = length(quit_date))
View(data_quit)
temp = merge(data_headcount, data_join,)
by.x = c("date","company_id")
temp = merge(data_headcount, data_join, by.x=c("date","company_id", by.y = c("join_date","company_id"))
)
temp = merge(data_headcount, data_join, by.x=c("date","company_id"), by.y = c("join_date","company_id"))
View(temp)
temp = merge(data_headcount, data_join, by.x=c("date","company_id"), by.y = c("join_date","company_id"), all.x=TRUE)
temp = merge(temp, data_quit, by.x=c("date","company_id"), by.y = c("quit_date","company_id"), all.x=TRUE)
data_headcount = merge(data_headcount, data_join, by.x=c("date","company_id"), by.y = c("join_date","company_id"), all.x=TRUE)
data_headcount = merge(data_headcount, data_quit, by.x=c("date","company_id"), by.y = c("quit_date","company_id"), all.x=TRUE)
data_headcount$join_count[is.na(data_headcount$join_count)] = 0
data_headcount$quit_count[is.na(data_headcount$quit_count)] = 0
data_headcount = merge(unique_dates, unique_companies)
data_headcount1 = merge(unique_dates, unique_companies, by=NULL)
View(data_headcount1)
colnames(data_headcount) = c("date","company_id")
data_company = data %>% group_by(join_date, company_id) %>% summarise(quit_count=length(company_id))
View(data_company)
View(data_quit)
data_headcount = merge(data_headcount, data_join, by.x=c('date','company_id'), by.y=c('join_date','company_id'), all.x=TRUE)
data_headcount = merge(data_headcount, data_quit, by.x=c('date','company_id'), by.y=c('quit_date','company_id'), all.x=TRUE)
data_headcount$join_count[is.na(data_headcount$join_count)] = 0
data_headcount$quit_count[is.na(data_headcount$quit_count)] = 0
data_headcount1 = merge(unique_dates, unique_companies)
View(data_headcount1)
unique_companies
data_headcount = merge(unique_dates, unique_companies, by=Null)
data_headcount = data_headcount %>% group_by(company_id) %>% mutate (join_cumsum=cumsum(join_count),quit_cumsum=cumsum(quit_count))
data_headcount$count = data_headcount$join_cumsum - data_headcount$quit_cumsum
data_headcount_table = data.frame(data_headcount[, c("date", "company_id","coun􏰍 t")])
data_headcount_table = data.frame(data_headcount[, c("date", "company_id","count")])
View(data_headcount1)
View(data_headcount_table)
View(data_headcount1)
View(data_headcount1)
data_headcount2 = merge(data_headcount1, data_join, by.x=c('date','company_id'), by.y=c('join_date','company_id'), all.x=TRUE)
colnames(data_headcount1) = c('date','company_id')
data_headcount2 = merge(data_headcount1, data_join, by.x=c('date','company_id'), by.y=c('join_date','company_id'), all.x=TRUE)
View(data_headcount2)
9157050/21,420
9157050/21420
View(data_headcount)
View(data_headcount)
View(data_headcount)
View(data_headcount1)
View(data_headcount)
View(data_company)
View(data_headcount_table)
data$employment_length = as.numeric(data$quit_date - data$join_date)
View(data)
data$week_of_year = as.numeric(format(data$quit_date, "%U"))
hist(data$employment_length, breaks = 100)
hist(data$week_of_year, breaks = length(unique(data$week_of_year)))
hist(data$employment_length, breaks = 365)
hist(data$employment_length, breaks = 100)
